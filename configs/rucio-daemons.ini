unix_http_server]
file = /tmp/supervisor.sock

[supervisord]
logfile=/var/log/rucio/supervisord.log
logfile_maxbytes=1024MB
logfile_backups=2
pidfile=/tmp/supervisord.pid

[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

[supervisorctl]
serverurl=unix:///tmp/supervisor.sock

[program:judge-evaluator]
command=/usr/bin/rucio-judge-evaluator
environment=RUCIO_HOME=/opt/rucio/
childlogdir=/var/log/rucio
stdout_logfile=/var/log/rucio/judge-evaluator.log
redirect_stderr=true
autorestart=true
stopsignal=KILL
exitcodes=1
stdout_logfile_maxbytes=2048MB
stdout_logfile_backups=22

[program:judge-cleaner]
command=/usr/bin/rucio-judge-cleaner
environment=RUCIO_HOME=/opt/rucio/
childlogdir=/var/log/rucio
stdout_logfile=/var/log/rucio/judge-cleaner.log
redirect_stderr=true
autorestart=true
stopsignal=KILL
exitcodes=1
stdout_logfile_maxbytes=2048MB
stdout_logfile_backups=2

[program:judge-repairer]
command=/usr/bin/rucio-judge-repairer
environment=RUCIO_HOME=/opt/rucio/
childlogdir=/var/log/rucio
stdout_logfile=/var/log/rucio/judge-repairer.log
redirect_stderr=true
autorestart=true
stopsignal=KILL
exitcodes=1
stdout_logfile_maxbytes=2048MB
stdout_logfile_backups=2

[program:conveyor-transfer-submitter]
command=/usr/bin/rucio-conveyor-transfer-submitter --activities "User Subscriptions" --sleep-time 10
environment=RUCIO_HOME=/opt/rucio/
childlogdir=/var/log/rucio/
stdout_logfile=/var/log/rucio/conveyor-transfer-submitter.log
redirect_stderr=true
autorestart=true
stopsignal=KILL
exitcodes=1
stdout_logfile_maxbytes=2048MB
stdout_logfile_backups=2

[program:conveyor-poller]
command=/usr/bin/rucio-conveyor-poller
environment=RUCIO_HOME=/opt/rucio/
childlogdir=/var/log/rucio/
stdout_logfile=/var/log/rucio/conveyor-poller.log
redirect_stderr=true
autorestart=true
stopsignal=KILL
exitcodes=1
stdout_logfile_maxbytes=2048MB
stdout_logfile_backups=2

[program:conveyor-finisher]
command=/usr/bin/rucio-conveyor-finisher --activities "User Subscriptions"
environment=RUCIO_HOME=/opt/rucio/
childlogdir=/var/log/rucio/
stdout_logfile=/var/log/rucio/conveyor-finisher.log
redirect_stderr=true
autorestart=true
stopsignal=KILL
exitcodes=1
stdout_logfile_maxbytes=2048MB
stdout_logfile_backups=2
